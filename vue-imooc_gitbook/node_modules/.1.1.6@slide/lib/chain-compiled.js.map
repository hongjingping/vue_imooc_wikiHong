{"version":3,"sources":["../../slide/lib/chain.js"],"names":[],"mappings":"AAAA,OAAO,OAAP,GAAiB,KAAjB;AACA,IAAI,YAAY,QAAQ,iBAAR,CAAhB;AACA,MAAM,KAAN,GAAc,EAAd,CAAmB,MAAM,IAAN,GAAa,EAAb;AACnB,SAAS,KAAT,CAAgB,MAAhB,EAAwB,EAAxB,EAA4B;AAC1B,MAAI,MAAM,EAAV,CACC,CAAC,SAAS,IAAT,CAAe,CAAf,EAAkB,GAAlB,EAAuB;AACvB,QAAI,KAAK,GAAT,EAAc,OAAO,GAAG,IAAH,EAAQ,GAAR,CAAP;AACd,QAAI,MAAM,OAAN,CAAc,OAAO,CAAP,CAAd,CAAJ,EACE,OAAO,CAAP,IAAY,UAAU,KAAV,CAAgB,IAAhB,EACV,OAAO,CAAP,EAAU,GAAV,CAAc,UAAS,CAAT,EAAW;AACvB,aAAQ,MAAI,MAAM,KAAX,GAAoB,IAAI,CAAJ,CAApB,GACH,MAAI,MAAM,IAAX,GACE,IAAI,IAAI,MAAJ,GAAa,CAAjB,CADF,GACwB,CAF3B;AAE8B,KAHhC,CADU,CAAZ;AAKF,QAAI,CAAC,OAAO,CAAP,CAAL,EAAgB,OAAO,KAAK,IAAI,CAAT,EAAY,GAAZ,CAAP;AAChB,WAAO,CAAP,EAAU,UAAU,EAAV,EAAc,IAAd,EAAoB;AAC5B,UAAI,EAAJ,EAAQ,OAAO,GAAG,EAAH,EAAO,GAAP,CAAP;AACR,UAAI,SAAS,SAAb,EAAwB,MAAM,IAAI,MAAJ,CAAW,IAAX,CAAN;AACxB,WAAK,IAAI,CAAT,EAAY,GAAZ;AACD,KAJD;AAKD,GAdA,EAcE,CAdF,EAcK,OAAO,MAdZ;AAcqB","file":"chain-compiled.js","sourcesContent":["module.exports = chain\nvar bindActor = require(\"./bind-actor.js\")\nchain.first = {} ; chain.last = {}\nfunction chain (things, cb) {\n  var res = []\n  ;(function LOOP (i, len) {\n    if (i >= len) return cb(null,res)\n    if (Array.isArray(things[i]))\n      things[i] = bindActor.apply(null,\n        things[i].map(function(i){\n          return (i===chain.first) ? res[0]\n           : (i===chain.last)\n             ? res[res.length - 1] : i }))\n    if (!things[i]) return LOOP(i + 1, len)\n    things[i](function (er, data) {\n      if (er) return cb(er, res)\n      if (data !== undefined) res = res.concat(data)\n      LOOP(i + 1, len)\n    })\n  })(0, things.length) }\n"]}