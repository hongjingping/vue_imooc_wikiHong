{"version":3,"sources":["bind-compiled.js"],"names":[],"mappings":"AAAA;;AAEA,OAAO,OAAP,GAAiB,UAAU,OAAV,EAAmB,QAAnB,EAA6B,mBAA7B,EAAkD,KAAlD,EAAyD;AACtE,QAAI,aAAa,KAAjB;AACA,QAAI,aAAa,UAAU,CAAV,EAAa,CAAb,EAAgB;AAC7B,aAAK,OAAL,CAAa,CAAb;AACH,KAFD;;AAIA,QAAI,iBAAiB,UAAU,CAAV,EAAa,OAAb,EAAsB;AACvC,gBAAQ,sBAAR,GAAiC,IAAjC;AACA,gBAAQ,cAAR,CAAuB,KAAvB,CAA6B,UAA7B,EAAyC,UAAzC,EAAqD,IAArD,EAA2D,IAA3D,EAAiE,CAAjE;AACH,KAHD;;AAKA,QAAI,kBAAkB,UAAU,OAAV,EAAmB,OAAnB,EAA4B;AAC9C,YAAI,CAAC,KAAK,SAAL,GAAiB,QAAlB,MAAgC,CAApC,EAAuC;AACnC,iBAAK,gBAAL,CAAsB,QAAQ,MAA9B;AACH;AACJ,KAJD;;AAMA,QAAI,kBAAkB,UAAU,CAAV,EAAa,OAAb,EAAsB;AACxC,YAAI,CAAC,QAAQ,sBAAb,EAAqC,KAAK,OAAL,CAAa,CAAb;AACxC,KAFD;;AAIA,YAAQ,SAAR,CAAkB,IAAlB,GAAyB,UAAU,OAAV,EAAmB;AACxC,YAAI,CAAC,UAAL,EAAiB;AACb,yBAAa,IAAb;AACA,oBAAQ,SAAR,CAAkB,cAAlB,GAAmC,MAAM,qBAAN,EAAnC;AACA,oBAAQ,SAAR,CAAkB,WAAlB,GAAgC,MAAM,kBAAN,EAAhC;AACH;AACD,YAAI,eAAe,oBAAoB,OAApB,CAAnB;AACA,YAAI,MAAM,IAAI,OAAJ,CAAY,QAAZ,CAAV;AACA,YAAI,cAAJ,CAAmB,IAAnB,EAAyB,CAAzB;AACA,YAAI,SAAS,KAAK,OAAL,EAAb;AACA,YAAI,WAAJ,CAAgB,YAAhB;AACA,YAAI,wBAAwB,OAA5B,EAAqC;AACjC,gBAAI,UAAU;AACV,wCAAwB,KADd;AAEV,yBAAS,GAFC;AAGV,wBAAQ,MAHE;AAIV,gCAAgB;AAJN,aAAd;AAMA,mBAAO,KAAP,CAAa,QAAb,EAAuB,cAAvB,EAAuC,SAAvC,EAAkD,GAAlD,EAAuD,OAAvD;AACA,yBAAa,KAAb,CAAmB,eAAnB,EAAoC,eAApC,EAAqD,SAArD,EAAgE,GAAhE,EAAqE,OAArE;AACA,gBAAI,YAAJ,CAAiB,YAAjB;AACH,SAVD,MAUO;AACH,gBAAI,gBAAJ,CAAqB,MAArB;AACH;AACD,eAAO,GAAP;AACH,KAzBD;;AA2BA,YAAQ,SAAR,CAAkB,WAAlB,GAAgC,UAAU,GAAV,EAAe;AAC3C,YAAI,QAAQ,SAAZ,EAAuB;AACnB,iBAAK,SAAL,GAAiB,KAAK,SAAL,GAAiB,OAAlC;AACA,iBAAK,QAAL,GAAgB,GAAhB;AACH,SAHD,MAGO;AACH,iBAAK,SAAL,GAAiB,KAAK,SAAL,GAAiB,CAAC,OAAnC;AACH;AACJ,KAPD;;AASA,YAAQ,SAAR,CAAkB,QAAlB,GAA6B,YAAY;AACrC,eAAO,CAAC,KAAK,SAAL,GAAiB,OAAlB,MAA+B,OAAtC;AACH,KAFD;;AAIA,YAAQ,IAAR,GAAe,UAAU,OAAV,EAAmB,KAAnB,EAA0B;AACrC,eAAO,QAAQ,OAAR,CAAgB,KAAhB,EAAuB,IAAvB,CAA4B,OAA5B,CAAP;AACH,KAFD;AAGH,CAhED;;AAkEA","file":"bind-compiled-compiled.js","sourcesContent":["\"use strict\";\n\nmodule.exports = function (Promise, INTERNAL, tryConvertToPromise, debug) {\n    var calledBind = false;\n    var rejectThis = function (_, e) {\n        this._reject(e);\n    };\n\n    var targetRejected = function (e, context) {\n        context.promiseRejectionQueued = true;\n        context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n    };\n\n    var bindingResolved = function (thisArg, context) {\n        if ((this._bitField & 50397184) === 0) {\n            this._resolveCallback(context.target);\n        }\n    };\n\n    var bindingRejected = function (e, context) {\n        if (!context.promiseRejectionQueued) this._reject(e);\n    };\n\n    Promise.prototype.bind = function (thisArg) {\n        if (!calledBind) {\n            calledBind = true;\n            Promise.prototype._propagateFrom = debug.propagateFromFunction();\n            Promise.prototype._boundValue = debug.boundValueFunction();\n        }\n        var maybePromise = tryConvertToPromise(thisArg);\n        var ret = new Promise(INTERNAL);\n        ret._propagateFrom(this, 1);\n        var target = this._target();\n        ret._setBoundTo(maybePromise);\n        if (maybePromise instanceof Promise) {\n            var context = {\n                promiseRejectionQueued: false,\n                promise: ret,\n                target: target,\n                bindingPromise: maybePromise\n            };\n            target._then(INTERNAL, targetRejected, undefined, ret, context);\n            maybePromise._then(bindingResolved, bindingRejected, undefined, ret, context);\n            ret._setOnCancel(maybePromise);\n        } else {\n            ret._resolveCallback(target);\n        }\n        return ret;\n    };\n\n    Promise.prototype._setBoundTo = function (obj) {\n        if (obj !== undefined) {\n            this._bitField = this._bitField | 2097152;\n            this._boundTo = obj;\n        } else {\n            this._bitField = this._bitField & ~2097152;\n        }\n    };\n\n    Promise.prototype._isBound = function () {\n        return (this._bitField & 2097152) === 2097152;\n    };\n\n    Promise.bind = function (thisArg, value) {\n        return Promise.resolve(value).bind(thisArg);\n    };\n};\n\n//# sourceMappingURL=bind-compiled.js.map"]}