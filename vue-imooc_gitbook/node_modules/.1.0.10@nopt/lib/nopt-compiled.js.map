{"version":3,"sources":["../../touch/node_modules/nopt/lib/nopt.js"],"names":[],"mappings":"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","file":"nopt-compiled.js","sourcesContent":["// info about each config option.\n\nvar debug = process.env.DEBUG_NOPT || process.env.NOPT_DEBUG\n  ? function () { console.error.apply(console, arguments) }\n  : function () {}\n\nvar url = require(\"url\")\n  , path = require(\"path\")\n  , Stream = require(\"stream\").Stream\n  , abbrev = require(\"abbrev\")\n\nmodule.exports = exports = nopt\nexports.clean = clean\n\nexports.typeDefs =\n  { String  : { type: String,  validate: validateString  }\n  , Boolean : { type: Boolean, validate: validateBoolean }\n  , url     : { type: url,     validate: validateUrl     }\n  , Number  : { type: Number,  validate: validateNumber  }\n  , path    : { type: path,    validate: validatePath    }\n  , Stream  : { type: Stream,  validate: validateStream  }\n  , Date    : { type: Date,    validate: validateDate    }\n  }\n\nfunction nopt (types, shorthands, args, slice) {\n  args = args || process.argv\n  types = types || {}\n  shorthands = shorthands || {}\n  if (typeof slice !== \"number\") slice = 2\n\n  debug(types, shorthands, args, slice)\n\n  args = args.slice(slice)\n  var data = {}\n    , key\n    , remain = []\n    , cooked = args\n    , original = args.slice(0)\n\n  parse(args, data, remain, types, shorthands)\n  // now data is full\n  clean(data, types, exports.typeDefs)\n  data.argv = {remain:remain,cooked:cooked,original:original}\n  data.argv.toString = function () {\n    return this.original.map(JSON.stringify).join(\" \")\n  }\n  return data\n}\n\nfunction clean (data, types, typeDefs) {\n  typeDefs = typeDefs || exports.typeDefs\n  var remove = {}\n    , typeDefault = [false, true, null, String, Number]\n\n  Object.keys(data).forEach(function (k) {\n    if (k === \"argv\") return\n    var val = data[k]\n      , isArray = Array.isArray(val)\n      , type = types[k]\n    if (!isArray) val = [val]\n    if (!type) type = typeDefault\n    if (type === Array) type = typeDefault.concat(Array)\n    if (!Array.isArray(type)) type = [type]\n\n    debug(\"val=%j\", val)\n    debug(\"types=\", type)\n    val = val.map(function (val) {\n      // if it's an unknown value, then parse false/true/null/numbers/dates\n      if (typeof val === \"string\") {\n        debug(\"string %j\", val)\n        val = val.trim()\n        if ((val === \"null\" && ~type.indexOf(null))\n            || (val === \"true\" &&\n               (~type.indexOf(true) || ~type.indexOf(Boolean)))\n            || (val === \"false\" &&\n               (~type.indexOf(false) || ~type.indexOf(Boolean)))) {\n          val = JSON.parse(val)\n          debug(\"jsonable %j\", val)\n        } else if (~type.indexOf(Number) && !isNaN(val)) {\n          debug(\"convert to number\", val)\n          val = +val\n        } else if (~type.indexOf(Date) && !isNaN(Date.parse(val))) {\n          debug(\"convert to date\", val)\n          val = new Date(val)\n        }\n      }\n\n      if (!types.hasOwnProperty(k)) {\n        return val\n      }\n\n      // allow `--no-blah` to set 'blah' to null if null is allowed\n      if (val === false && ~type.indexOf(null) &&\n          !(~type.indexOf(false) || ~type.indexOf(Boolean))) {\n        val = null\n      }\n\n      var d = {}\n      d[k] = val\n      debug(\"prevalidated val\", d, val, types[k])\n      if (!validate(d, k, val, types[k], typeDefs)) {\n        if (exports.invalidHandler) {\n          exports.invalidHandler(k, val, types[k], data)\n        } else if (exports.invalidHandler !== false) {\n          debug(\"invalid: \"+k+\"=\"+val, types[k])\n        }\n        return remove\n      }\n      debug(\"validated val\", d, val, types[k])\n      return d[k]\n    }).filter(function (val) { return val !== remove })\n\n    if (!val.length) delete data[k]\n    else if (isArray) {\n      debug(isArray, data[k], val)\n      data[k] = val\n    } else data[k] = val[0]\n\n    debug(\"k=%s val=%j\", k, val, data[k])\n  })\n}\n\nfunction validateString (data, k, val) {\n  data[k] = String(val)\n}\n\nfunction validatePath (data, k, val) {\n  data[k] = path.resolve(String(val))\n  return true\n}\n\nfunction validateNumber (data, k, val) {\n  debug(\"validate Number %j %j %j\", k, val, isNaN(val))\n  if (isNaN(val)) return false\n  data[k] = +val\n}\n\nfunction validateDate (data, k, val) {\n  debug(\"validate Date %j %j %j\", k, val, Date.parse(val))\n  var s = Date.parse(val)\n  if (isNaN(s)) return false\n  data[k] = new Date(val)\n}\n\nfunction validateBoolean (data, k, val) {\n  if (val instanceof Boolean) val = val.valueOf()\n  else if (typeof val === \"string\") {\n    if (!isNaN(val)) val = !!(+val)\n    else if (val === \"null\" || val === \"false\") val = false\n    else val = true\n  } else val = !!val\n  data[k] = val\n}\n\nfunction validateUrl (data, k, val) {\n  val = url.parse(String(val))\n  if (!val.host) return false\n  data[k] = val.href\n}\n\nfunction validateStream (data, k, val) {\n  if (!(val instanceof Stream)) return false\n  data[k] = val\n}\n\nfunction validate (data, k, val, type, typeDefs) {\n  // arrays are lists of types.\n  if (Array.isArray(type)) {\n    for (var i = 0, l = type.length; i < l; i ++) {\n      if (type[i] === Array) continue\n      if (validate(data, k, val, type[i], typeDefs)) return true\n    }\n    delete data[k]\n    return false\n  }\n\n  // an array of anything?\n  if (type === Array) return true\n\n  // NaN is poisonous.  Means that something is not allowed.\n  if (type !== type) {\n    debug(\"Poison NaN\", k, val, type)\n    delete data[k]\n    return false\n  }\n\n  // explicit list of values\n  if (val === type) {\n    debug(\"Explicitly allowed %j\", val)\n    // if (isArray) (data[k] = data[k] || []).push(val)\n    // else data[k] = val\n    data[k] = val\n    return true\n  }\n\n  // now go through the list of typeDefs, validate against each one.\n  var ok = false\n    , types = Object.keys(typeDefs)\n  for (var i = 0, l = types.length; i < l; i ++) {\n    debug(\"test type %j %j %j\", k, val, types[i])\n    var t = typeDefs[types[i]]\n    if (t && type === t.type) {\n      var d = {}\n      ok = false !== t.validate(d, k, val)\n      val = d[k]\n      if (ok) {\n        // if (isArray) (data[k] = data[k] || []).push(val)\n        // else data[k] = val\n        data[k] = val\n        break\n      }\n    }\n  }\n  debug(\"OK? %j (%j %j %j)\", ok, k, val, types[i])\n\n  if (!ok) delete data[k]\n  return ok\n}\n\nfunction parse (args, data, remain, types, shorthands) {\n  debug(\"parse\", args, data, remain)\n\n  var key = null\n    , abbrevs = abbrev(Object.keys(types))\n    , shortAbbr = abbrev(Object.keys(shorthands))\n\n  for (var i = 0; i < args.length; i ++) {\n    var arg = args[i]\n    debug(\"arg\", arg)\n\n    if (arg.match(/^-{2,}$/)) {\n      // done with keys.\n      // the rest are args.\n      remain.push.apply(remain, args.slice(i + 1))\n      args[i] = \"--\"\n      break\n    }\n    if (arg.charAt(0) === \"-\") {\n      if (arg.indexOf(\"=\") !== -1) {\n        var v = arg.split(\"=\")\n        arg = v.shift()\n        v = v.join(\"=\")\n        args.splice.apply(args, [i, 1].concat([arg, v]))\n      }\n      // see if it's a shorthand\n      // if so, splice and back up to re-parse it.\n      var shRes = resolveShort(arg, shorthands, shortAbbr, abbrevs)\n      debug(\"arg=%j shRes=%j\", arg, shRes)\n      if (shRes) {\n        debug(arg, shRes)\n        args.splice.apply(args, [i, 1].concat(shRes))\n        if (arg !== shRes[0]) {\n          i --\n          continue\n        }\n      }\n      arg = arg.replace(/^-+/, \"\")\n      var no = false\n      while (arg.toLowerCase().indexOf(\"no-\") === 0) {\n        no = !no\n        arg = arg.substr(3)\n      }\n\n      if (abbrevs[arg]) arg = abbrevs[arg]\n\n      var isArray = types[arg] === Array ||\n        Array.isArray(types[arg]) && types[arg].indexOf(Array) !== -1\n\n      var val\n        , la = args[i + 1]\n\n      var isBool = no ||\n        types[arg] === Boolean ||\n        Array.isArray(types[arg]) && types[arg].indexOf(Boolean) !== -1 ||\n        (la === \"false\" &&\n         (types[arg] === null ||\n          Array.isArray(types[arg]) && ~types[arg].indexOf(null)))\n\n      if (isBool) {\n        // just set and move along\n        val = !no\n        // however, also support --bool true or --bool false\n        if (la === \"true\" || la === \"false\") {\n          val = JSON.parse(la)\n          la = null\n          if (no) val = !val\n          i ++\n        }\n\n        // also support \"foo\":[Boolean, \"bar\"] and \"--foo bar\"\n        if (Array.isArray(types[arg]) && la) {\n          if (~types[arg].indexOf(la)) {\n            // an explicit type\n            val = la\n            i ++\n          } else if ( la === \"null\" && ~types[arg].indexOf(null) ) {\n            // null allowed\n            val = null\n            i ++\n          } else if ( !la.match(/^-{2,}[^-]/) &&\n                      !isNaN(la) &&\n                      ~types[arg].indexOf(Number) ) {\n            // number\n            val = +la\n            i ++\n          } else if ( !la.match(/^-[^-]/) && ~types[arg].indexOf(String) ) {\n            // string\n            val = la\n            i ++\n          }\n        }\n\n        if (isArray) (data[arg] = data[arg] || []).push(val)\n        else data[arg] = val\n\n        continue\n      }\n\n      if (la && la.match(/^-{2,}$/)) {\n        la = undefined\n        i --\n      }\n\n      val = la === undefined ? true : la\n      if (isArray) (data[arg] = data[arg] || []).push(val)\n      else data[arg] = val\n\n      i ++\n      continue\n    }\n    remain.push(arg)\n  }\n}\n\nfunction resolveShort (arg, shorthands, shortAbbr, abbrevs) {\n  // handle single-char shorthands glommed together, like\n  // npm ls -glp, but only if there is one dash, and only if\n  // all of the chars are single-char shorthands, and it's\n  // not a match to some other abbrev.\n  arg = arg.replace(/^-+/, '')\n  if (abbrevs[arg] && !shorthands[arg]) {\n    return null\n  }\n  if (shortAbbr[arg]) {\n    arg = shortAbbr[arg]\n  } else {\n    var singles = shorthands.___singles\n    if (!singles) {\n      singles = Object.keys(shorthands).filter(function (s) {\n        return s.length === 1\n      }).reduce(function (l,r) { l[r] = true ; return l }, {})\n      shorthands.___singles = singles\n    }\n    var chrs = arg.split(\"\").filter(function (c) {\n      return singles[c]\n    })\n    if (chrs.join(\"\") === arg) return chrs.map(function (c) {\n      return shorthands[c]\n    }).reduce(function (l, r) {\n      return l.concat(r)\n    }, [])\n  }\n\n  if (shorthands[arg] && !Array.isArray(shorthands[arg])) {\n    shorthands[arg] = shorthands[arg].split(/\\s+/)\n  }\n  return shorthands[arg]\n}\n\nif (module === require.main) {\nvar assert = require(\"assert\")\n  , util = require(\"util\")\n\n  , shorthands =\n    { s : [\"--loglevel\", \"silent\"]\n    , d : [\"--loglevel\", \"info\"]\n    , dd : [\"--loglevel\", \"verbose\"]\n    , ddd : [\"--loglevel\", \"silly\"]\n    , noreg : [\"--no-registry\"]\n    , reg : [\"--registry\"]\n    , \"no-reg\" : [\"--no-registry\"]\n    , silent : [\"--loglevel\", \"silent\"]\n    , verbose : [\"--loglevel\", \"verbose\"]\n    , h : [\"--usage\"]\n    , H : [\"--usage\"]\n    , \"?\" : [\"--usage\"]\n    , help : [\"--usage\"]\n    , v : [\"--version\"]\n    , f : [\"--force\"]\n    , desc : [\"--description\"]\n    , \"no-desc\" : [\"--no-description\"]\n    , \"local\" : [\"--no-global\"]\n    , l : [\"--long\"]\n    , p : [\"--parseable\"]\n    , porcelain : [\"--parseable\"]\n    , g : [\"--global\"]\n    }\n\n  , types =\n    { aoa: Array\n    , nullstream: [null, Stream]\n    , date: Date\n    , str: String\n    , browser : String\n    , cache : path\n    , color : [\"always\", Boolean]\n    , depth : Number\n    , description : Boolean\n    , dev : Boolean\n    , editor : path\n    , force : Boolean\n    , global : Boolean\n    , globalconfig : path\n    , group : [String, Number]\n    , gzipbin : String\n    , logfd : [Number, Stream]\n    , loglevel : [\"silent\",\"win\",\"error\",\"warn\",\"info\",\"verbose\",\"silly\"]\n    , long : Boolean\n    , \"node-version\" : [false, String]\n    , npaturl : url\n    , npat : Boolean\n    , \"onload-script\" : [false, String]\n    , outfd : [Number, Stream]\n    , parseable : Boolean\n    , pre: Boolean\n    , prefix: path\n    , proxy : url\n    , \"rebuild-bundle\" : Boolean\n    , registry : url\n    , searchopts : String\n    , searchexclude: [null, String]\n    , shell : path\n    , t: [Array, String]\n    , tag : String\n    , tar : String\n    , tmp : path\n    , \"unsafe-perm\" : Boolean\n    , usage : Boolean\n    , user : String\n    , username : String\n    , userconfig : path\n    , version : Boolean\n    , viewer: path\n    , _exit : Boolean\n    }\n\n; [[\"-v\", {version:true}, []]\n  ,[\"---v\", {version:true}, []]\n  ,[\"ls -s --no-reg connect -d\",\n    {loglevel:\"info\",registry:null},[\"ls\",\"connect\"]]\n  ,[\"ls ---s foo\",{loglevel:\"silent\"},[\"ls\",\"foo\"]]\n  ,[\"ls --registry blargle\", {}, [\"ls\"]]\n  ,[\"--no-registry\", {registry:null}, []]\n  ,[\"--no-color true\", {color:false}, []]\n  ,[\"--no-color false\", {color:true}, []]\n  ,[\"--no-color\", {color:false}, []]\n  ,[\"--color false\", {color:false}, []]\n  ,[\"--color --logfd 7\", {logfd:7,color:true}, []]\n  ,[\"--color=true\", {color:true}, []]\n  ,[\"--logfd=10\", {logfd:10}, []]\n  ,[\"--tmp=/tmp -tar=gtar\",{tmp:\"/tmp\",tar:\"gtar\"},[]]\n  ,[\"--tmp=tmp -tar=gtar\",\n    {tmp:path.resolve(process.cwd(), \"tmp\"),tar:\"gtar\"},[]]\n  ,[\"--logfd x\", {}, []]\n  ,[\"a -true -- -no-false\", {true:true},[\"a\",\"-no-false\"]]\n  ,[\"a -no-false\", {false:false},[\"a\"]]\n  ,[\"a -no-no-true\", {true:true}, [\"a\"]]\n  ,[\"a -no-no-no-false\", {false:false}, [\"a\"]]\n  ,[\"---NO-no-No-no-no-no-nO-no-no\"+\n    \"-No-no-no-no-no-no-no-no-no\"+\n    \"-no-no-no-no-NO-NO-no-no-no-no-no-no\"+\n    \"-no-body-can-do-the-boogaloo-like-I-do\"\n   ,{\"body-can-do-the-boogaloo-like-I-do\":false}, []]\n  ,[\"we are -no-strangers-to-love \"+\n    \"--you-know the-rules --and so-do-i \"+\n    \"---im-thinking-of=a-full-commitment \"+\n    \"--no-you-would-get-this-from-any-other-guy \"+\n    \"--no-gonna-give-you-up \"+\n    \"-no-gonna-let-you-down=true \"+\n    \"--no-no-gonna-run-around false \"+\n    \"--desert-you=false \"+\n    \"--make-you-cry false \"+\n    \"--no-tell-a-lie \"+\n    \"--no-no-and-hurt-you false\"\n   ,{\"strangers-to-love\":false\n    ,\"you-know\":\"the-rules\"\n    ,\"and\":\"so-do-i\"\n    ,\"you-would-get-this-from-any-other-guy\":false\n    ,\"gonna-give-you-up\":false\n    ,\"gonna-let-you-down\":false\n    ,\"gonna-run-around\":false\n    ,\"desert-you\":false\n    ,\"make-you-cry\":false\n    ,\"tell-a-lie\":false\n    ,\"and-hurt-you\":false\n    },[\"we\", \"are\"]]\n  ,[\"-t one -t two -t three\"\n   ,{t: [\"one\", \"two\", \"three\"]}\n   ,[]]\n  ,[\"-t one -t null -t three four five null\"\n   ,{t: [\"one\", \"null\", \"three\"]}\n   ,[\"four\", \"five\", \"null\"]]\n  ,[\"-t foo\"\n   ,{t:[\"foo\"]}\n   ,[]]\n  ,[\"--no-t\"\n   ,{t:[\"false\"]}\n   ,[]]\n  ,[\"-no-no-t\"\n   ,{t:[\"true\"]}\n   ,[]]\n  ,[\"-aoa one -aoa null -aoa 100\"\n   ,{aoa:[\"one\", null, 100]}\n   ,[]]\n  ,[\"-str 100\"\n   ,{str:\"100\"}\n   ,[]]\n  ,[\"--color always\"\n   ,{color:\"always\"}\n   ,[]]\n  ,[\"--no-nullstream\"\n   ,{nullstream:null}\n   ,[]]\n  ,[\"--nullstream false\"\n   ,{nullstream:null}\n   ,[]]\n  ,[\"--notadate 2011-01-25\"\n   ,{notadate: \"2011-01-25\"}\n   ,[]]\n  ,[\"--date 2011-01-25\"\n   ,{date: new Date(\"2011-01-25\")}\n   ,[]]\n  ].forEach(function (test) {\n    var argv = test[0].split(/\\s+/)\n      , opts = test[1]\n      , rem = test[2]\n      , actual = nopt(types, shorthands, argv, 0)\n      , parsed = actual.argv\n    delete actual.argv\n    console.log(util.inspect(actual, false, 2, true), parsed.remain)\n    for (var i in opts) {\n      var e = JSON.stringify(opts[i])\n        , a = JSON.stringify(actual[i] === undefined ? null : actual[i])\n      if (e && typeof e === \"object\") {\n        assert.deepEqual(e, a)\n      } else {\n        assert.equal(e, a)\n      }\n    }\n    assert.deepEqual(rem, parsed.remain)\n  })\n}\n"]}