{"version":3,"sources":["../typings/node_modules/typings-core/node_modules/jspm-config/node_modules/throat/index-compiled-compiled.js"],"names":[],"mappings":"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","file":"index-compiled-compiled-compiled.js","sourcesContent":["'use strict';\n\nmodule.exports = function (PromiseArgument) {\n  var Promise;\n  function throat(size, fn) {\n    var queue = new Queue();\n    function run(fn, self, args) {\n      if (size) {\n        size--;\n        var result = new Promise(function (resolve) {\n          resolve(fn.apply(self, args));\n        });\n        result.then(release, release);\n        return result;\n      } else {\n        return new Promise(function (resolve) {\n          queue.push(new Delayed(resolve, fn, self, args));\n        });\n      }\n    }\n    function release() {\n      size++;\n      if (!queue.isEmpty()) {\n        var next = queue.shift();\n        next.resolve(run(next.fn, next.self, next.args));\n      }\n    }\n    if (typeof size === 'function') {\n      var temp = fn;\n      fn = size;\n      size = temp;\n    }\n    if (typeof size !== 'number') {\n      throw new TypeError('Expected throat size to be a number but got ' + typeof size);\n    }\n    if (fn !== undefined && typeof fn !== 'function') {\n      throw new TypeError('Expected throat fn to be a function but got ' + typeof fn);\n    }\n    if (typeof fn === 'function') {\n      return function () {\n        var args = [];\n        for (var i = 0; i < arguments.length; i++) {\n          args.push(arguments[i]);\n        }\n        return run(fn, this, args);\n      };\n    } else {\n      return function (fn) {\n        if (typeof fn !== 'function') {\n          throw new TypeError('Expected throat fn to be a function but got ' + typeof fn);\n        }\n        var args = [];\n        for (var i = 1; i < arguments.length; i++) {\n          args.push(arguments[i]);\n        }\n        return run(fn, this, args);\n      };\n    }\n  }\n  if (arguments.length === 1 && typeof PromiseArgument === 'function') {\n    Promise = PromiseArgument;\n    return throat;\n  } else {\n    Promise = module.exports.Promise;\n    if (typeof Promise !== 'function') {\n      throw new Error('You must provide a Promise polyfill for this library to work in older environments');\n    }\n    return throat(arguments[0], arguments[1]);\n  }\n};\n\n/* istanbul ignore next */\nif (typeof Promise === 'function') {\n  module.exports.Promise = Promise;\n}\n\nfunction Delayed(resolve, fn, self, args) {\n  this.resolve = resolve;\n  this.fn = fn;\n  this.self = self || null;\n  this.args = args;\n}\n\nfunction Queue() {\n  this._s1 = [];\n  this._s2 = [];\n}\n\nQueue.prototype.push = function (value) {\n  this._s1.push(value);\n};\n\nQueue.prototype.shift = function () {\n  if (!this._s2.length) {\n    while (this._s1.length) {\n      this._s2.push(this._s1.pop());\n    }\n  }\n  return this._s2.pop();\n};\n\nQueue.prototype.isEmpty = function () {\n  return !this._s1.length && !this._s2.length;\n};\n\n//# sourceMappingURL=index-compiled.js.map\n\n//# sourceMappingURL=index-compiled-compiled.js.map"]}