{"version":3,"sources":["../../.1.2.14@which/node_modules/isexe/test/basic-compiled.js"],"names":[],"mappings":"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","file":"basic-compiled-compiled.js","sourcesContent":["var t = require('tap');\nvar fs = require('fs');\nvar path = require('path');\nvar fixture = path.resolve(__dirname, 'fixtures');\nvar meow = fixture + '/meow.cat';\nvar mine = fixture + '/mine.cat';\nvar ours = fixture + '/ours.cat';\nvar fail = fixture + '/fail.false';\nvar noent = fixture + '/enoent.exe';\nvar mkdirp = require('mkdirp');\nvar rimraf = require('rimraf');\n\nvar isWindows = process.platform === 'win32';\nvar hasAccess = typeof fs.access === 'function';\nvar winSkip = isWindows && 'windows';\nvar accessSkip = !hasAccess && 'no fs.access function';\nvar hasPromise = typeof Promise === 'function';\nvar promiseSkip = !hasPromise && 'no global Promise';\n\nfunction reset() {\n  delete require.cache[require.resolve('../')];\n  return require('../');\n}\n\nt.test('setup fixtures', function (t) {\n  rimraf.sync(fixture);\n  mkdirp.sync(fixture);\n  fs.writeFileSync(meow, '#!/usr/bin/env cat\\nmeow\\n');\n  fs.chmodSync(meow, parseInt('0755', 8));\n  fs.writeFileSync(fail, '#!/usr/bin/env false\\n');\n  fs.chmodSync(fail, parseInt('0644', 8));\n  fs.writeFileSync(mine, '#!/usr/bin/env cat\\nmine\\n');\n  fs.chmodSync(mine, parseInt('0744', 8));\n  fs.writeFileSync(ours, '#!/usr/bin/env cat\\nours\\n');\n  fs.chmodSync(ours, parseInt('0754', 8));\n  t.end();\n});\n\nt.test('promise', { skip: promiseSkip }, function (t) {\n  var isexe = reset();\n  t.test('meow async', function (t) {\n    isexe(meow).then(function (is) {\n      t.ok(is);\n      t.end();\n    });\n  });\n  t.test('fail async', function (t) {\n    isexe(fail).then(function (is) {\n      t.notOk(is);\n      t.end();\n    });\n  });\n  t.test('noent async', function (t) {\n    isexe(noent).catch(function (er) {\n      t.ok(er);\n      t.end();\n    });\n  });\n  t.test('noent ignore async', function (t) {\n    isexe(noent, { ignoreErrors: true }).then(function (is) {\n      t.notOk(is);\n      t.end();\n    });\n  });\n  t.end();\n});\n\nt.test('no promise', function (t) {\n  global.Promise = null;\n  var isexe = reset();\n  t.throws('try to meow a promise', function () {\n    isexe(meow);\n  });\n  t.end();\n});\n\nt.test('access', { skip: accessSkip || winSkip }, function (t) {\n  runTest(t);\n});\n\nt.test('mode', { skip: winSkip }, function (t) {\n  delete fs.access;\n  delete fs.accessSync;\n  var isexe = reset();\n  t.ok(isexe.sync(ours, { uid: 0, gid: 0 }));\n  t.ok(isexe.sync(mine, { uid: 0, gid: 0 }));\n  runTest(t);\n});\n\nt.test('windows', function (t) {\n  global.TESTING_WINDOWS = true;\n  var pathExt = '.EXE;.CAT;.CMD;.COM';\n  t.test('pathExt option', function (t) {\n    runTest(t, { pathExt: '.EXE;.CAT;.CMD;.COM' });\n  });\n  t.test('pathExt env', function (t) {\n    process.env.PATHEXT = pathExt;\n    runTest(t);\n  });\n  t.test('no pathExt', function (t) {\n    // with a pathExt of '', any filename is fine.\n    // so the \"fail\" one would still pass.\n    runTest(t, { pathExt: '', skipFail: true });\n  });\n  t.test('pathext with empty entry', function (t) {\n    // with a pathExt of '', any filename is fine.\n    // so the \"fail\" one would still pass.\n    runTest(t, { pathExt: ';' + pathExt, skipFail: true });\n  });\n  t.end();\n});\n\nt.test('cleanup', function (t) {\n  rimraf.sync(fixture);\n  t.end();\n});\n\nfunction runTest(t, options) {\n  var isexe = reset();\n\n  var optionsIgnore = Object.create(options || {});\n  optionsIgnore.ignoreErrors = true;\n\n  if (!options || !options.skipFail) {\n    t.notOk(isexe.sync(fail, options));\n  }\n  t.notOk(isexe.sync(noent, optionsIgnore));\n  if (!options) {\n    t.ok(isexe.sync(meow));\n  } else {\n    t.ok(isexe.sync(meow, options));\n  }\n\n  t.ok(isexe.sync(mine, options));\n  t.ok(isexe.sync(ours, options));\n  t.throws(function () {\n    isexe.sync(noent, options);\n  });\n\n  t.test('meow async', function (t) {\n    if (!options) {\n      isexe(meow, function (er, is) {\n        if (er) {\n          throw er;\n        }\n        t.ok(is);\n        t.end();\n      });\n    } else {\n      isexe(meow, options, function (er, is) {\n        if (er) {\n          throw er;\n        }\n        t.ok(is);\n        t.end();\n      });\n    }\n  });\n\n  t.test('mine async', function (t) {\n    isexe(mine, options, function (er, is) {\n      if (er) {\n        throw er;\n      }\n      t.ok(is);\n      t.end();\n    });\n  });\n\n  t.test('ours async', function (t) {\n    isexe(ours, options, function (er, is) {\n      if (er) {\n        throw er;\n      }\n      t.ok(is);\n      t.end();\n    });\n  });\n\n  if (!options || !options.skipFail) {\n    t.test('fail async', function (t) {\n      isexe(fail, options, function (er, is) {\n        if (er) {\n          throw er;\n        }\n        t.notOk(is);\n        t.end();\n      });\n    });\n  }\n\n  t.test('noent async', function (t) {\n    isexe(noent, options, function (er, is) {\n      t.ok(er);\n      t.notOk(is);\n      t.end();\n    });\n  });\n\n  t.test('noent ignore async', function (t) {\n    isexe(noent, optionsIgnore, function (er, is) {\n      if (er) {\n        throw er;\n      }\n      t.notOk(is);\n      t.end();\n    });\n  });\n\n  t.test('directory is not executable', function (t) {\n    isexe(__dirname, options, function (er, is) {\n      if (er) {\n        throw er;\n      }\n      t.notOk(is);\n      t.end();\n    });\n  });\n\n  t.end();\n}\n\n//# sourceMappingURL=basic-compiled.js.map"]}