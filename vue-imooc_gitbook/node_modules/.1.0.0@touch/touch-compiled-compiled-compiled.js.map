{"version":3,"sources":["../.2.1.1@typings/node_modules/typings-core/node_modules/touch/touch-compiled-compiled.js"],"names":[],"mappings":"AAAA,IAAI,KAAK,QAAQ,IAAR,CAAT;AAAA,IACI,OAAO,QAAQ,WAAR,CADX;;AAGA,OAAO,OAAP,GAAiB,KAAjB;AACA,MAAM,SAAN,GAAkB,MAAM,IAAN,GAAa,UAAU,CAAV,EAAa,OAAb,EAAsB;AACnD,SAAO,MAAM,CAAN,EAAS,OAAT,CAAP;AACD,CAFD;;AAIA,MAAM,MAAN,GAAe,MAAf;AACA,MAAM,UAAN,GAAmB,OAAO,IAAP,GAAc,UAAU,EAAV,EAAc,OAAd,EAAuB;AACtD,SAAO,OAAO,EAAP,EAAW,OAAX,CAAP;AACD,CAFD;;AAIA,SAAS,SAAT,CAAmB,OAAnB,EAA4B;AAC1B,YAAU,OAAO,MAAP,CAAc,WAAW,EAAzB,CAAV;;AAEA;AACA;AACA,MAAI,MAAM,IAAI,IAAJ,CAAS,QAAQ,IAAR,IAAgB,KAAK,GAAL,EAAzB,CAAV;AACA,MAAI,CAAC,QAAQ,KAAT,IAAkB,CAAC,QAAQ,KAA/B,EAAsC;AACpC,YAAQ,KAAR,GAAgB,QAAQ,KAAR,GAAgB,GAAhC;AACD,GAFD,MAEO;AACL,QAAI,SAAS,QAAQ,KAArB,EAA4B;AAC1B,cAAQ,KAAR,GAAgB,GAAhB;AACD;AACD,QAAI,SAAS,QAAQ,KAArB,EAA4B;AAC1B,cAAQ,KAAR,GAAgB,GAAhB;AACD;AACF;;AAED,MAAI,SAAS,CAAb;AACA,MAAI,CAAC,QAAQ,KAAb,EAAoB;AAClB,aAAS,SAAS,KAAK,MAAvB;AACD;;AAED,MAAI,CAAC,QAAQ,QAAb,EAAuB;AACrB,aAAS,SAAS,KAAK,OAAvB;AACD;;AAED,UAAQ,MAAR,GAAiB,MAAjB;AACA,SAAO,OAAP;AACD;;AAED,SAAS,UAAT,CAAoB,IAApB,EAA0B,GAA1B,EAA+B,OAA/B,EAAwC,EAAxC,EAA4C;AAC1C,MAAI,CAAC,QAAQ,GAAb,EAAkB,OAAO,KAAK,GAAL,EAAU,OAAV,EAAmB,EAAnB,CAAP;;AAElB,SAAO,KAAK,GAAG,IAAH,CAAQ,QAAQ,GAAhB,EAAqB,aAAa,IAAb,EAAmB,GAAnB,EAAwB,OAAxB,EAAiC,EAAjC,CAArB,CAAL,GAAkE,aAAa,IAAb,EAAmB,GAAnB,EAAwB,OAAxB,EAAiC,IAAjC,EAAuC,GAAG,QAAH,CAAY,QAAQ,GAApB,CAAvC,CAAzE;AACD;;AAED,SAAS,YAAT,CAAsB,IAAtB,EAA4B,GAA5B,EAAiC,OAAjC,EAA0C,EAA1C,EAA8C;AAC5C,SAAO,UAAU,EAAV,EAAc,CAAd,EAAiB;AACtB,QAAI,EAAJ,EAAQ;AACN,SAAG,IAAH,GAAU,GAAG,IAAH,GAAU,QAAQ,GAA5B;AACA,aAAO,GAAG,EAAH,CAAP;AACD;AACD,YAAQ,KAAR,GAAgB,QAAQ,KAAR,IAAiB,EAAE,KAAF,CAAQ,OAAR,EAAjC;AACA,YAAQ,KAAR,GAAgB,QAAQ,KAAR,IAAiB,EAAE,KAAF,CAAQ,OAAR,EAAjC;;AAEA;AACA,YAAQ,GAAR,GAAc,IAAd;;AAEA,WAAO,KAAK,GAAL,EAAU,OAAV,EAAmB,EAAnB,CAAP;AACD,GAZD;AAaD;;AAED,SAAS,KAAT,CAAe,CAAf,EAAkB,OAAlB,EAA2B,EAA3B,EAA+B;AAC7B,MAAI,OAAO,OAAP,KAAmB,UAAvB,EAAmC,KAAK,OAAL,EAAc,UAAU,IAAxB;AACnC,YAAU,UAAU,OAAV,CAAV;AACA,SAAO,WAAW,MAAX,EAAmB,CAAnB,EAAsB,UAAU,OAAV,CAAtB,EAA0C,EAA1C,CAAP;AACD;;AAED,SAAS,MAAT,CAAgB,CAAhB,EAAmB,OAAnB,EAA4B,EAA5B,EAAgC;AAC9B,SAAO,UAAU,CAAV,EAAa,OAAb,EAAsB,EAAtB,CAAP;AACD;;AAED,SAAS,SAAT,CAAmB,CAAnB,EAAsB,OAAtB,EAA+B,EAA/B,EAAmC;AACjC,UAAQ,UAAR,GAAqB,IAArB;AACA,SAAO,KAAK,GAAG,IAAH,CAAQ,CAAR,EAAW,QAAQ,MAAnB,EAA2B,YAAY,OAAZ,EAAqB,EAArB,CAA3B,CAAL,GAA4D,YAAY,OAAZ,EAAqB,IAArB,EAA2B,GAAG,QAAH,CAAY,CAAZ,EAAe,QAAQ,MAAvB,CAA3B,CAAnE;AACD;;AAED,SAAS,WAAT,CAAqB,OAArB,EAA8B,EAA9B,EAAkC;AAChC,SAAO,UAAU,EAAV,EAAc,EAAd,EAAkB;AACvB,QAAI,EAAJ,EAAQ;AACN,UAAI,MAAM,QAAQ,UAAlB,EAA8B,GAAG,KAAH,CAAS,EAAT,EAAa,YAAY,CAAE,CAA3B;AAC9B,aAAO,GAAG,EAAH,CAAP;AACD;AACD,WAAO,OAAO,EAAP,EAAW,OAAX,EAAoB,EAApB,CAAP;AACD,GAND;AAOD;;AAED,SAAS,MAAT,CAAgB,EAAhB,EAAoB,OAApB,EAA6B,EAA7B,EAAiC;AAC/B,MAAI,OAAO,OAAP,KAAmB,UAAvB,EAAmC,KAAK,OAAL,EAAc,UAAU,IAAxB;AACnC,SAAO,WAAW,OAAX,EAAoB,EAApB,EAAwB,UAAU,OAAV,CAAxB,EAA4C,EAA5C,CAAP;AACD;;AAED,SAAS,OAAT,CAAiB,EAAjB,EAAqB,OAArB,EAA8B,EAA9B,EAAkC;AAChC;AACA,SAAO,iBAAiB,EAAjB,EAAqB,OAArB,EAA8B,EAA9B,CAAP;AACD;;AAED,SAAS,gBAAT,CAA0B,EAA1B,EAA8B,OAA9B,EAAuC,EAAvC,EAA2C;AACzC,MAAI,QAAQ,KAAR,IAAiB,QAAQ,KAA7B,EAAoC,OAAO,YAAY,EAAZ,EAAgB,OAAhB,EAAyB,EAAzB,CAAP;;AAEpC,SAAO,KAAK,GAAG,KAAH,CAAS,EAAT,EAAa,mBAAmB,EAAnB,EAAuB,OAAvB,EAAgC,EAAhC,CAAb,CAAL,GAAyD,mBAAmB,EAAnB,EAAuB,OAAvB,EAAgC,IAAhC,EAAsC,GAAG,SAAH,CAAa,EAAb,CAAtC,CAAhE;AACD;;AAED,SAAS,kBAAT,CAA4B,EAA5B,EAAgC,OAAhC,EAAyC,EAAzC,EAA6C;AAC3C,SAAO,UAAU,EAAV,EAAc,CAAd,EAAiB;AACtB,QAAI,EAAJ,EAAQ;AACN,UAAI,QAAQ,UAAZ,EAAwB,GAAG,KAAH,CAAS,EAAT,EAAa,YAAY,CAAE,CAA3B;AACxB,aAAO,GAAG,EAAH,CAAP;AACD;AACD,YAAQ,KAAR,GAAgB,QAAQ,KAAR,IAAiB,EAAE,KAAF,CAAQ,OAAR,EAAjC;AACA,YAAQ,KAAR,GAAgB,QAAQ,KAAR,IAAiB,EAAE,KAAF,CAAQ,OAAR,EAAjC;AACA,WAAO,YAAY,EAAZ,EAAgB,OAAhB,EAAyB,EAAzB,CAAP;AACD,GARD;AASD;;AAED,SAAS,WAAT,CAAqB,EAArB,EAAyB,OAAzB,EAAkC,EAAlC,EAAsC;AACpC,MAAI,OAAO,QAAQ,KAAf,KAAyB,QAA7B,EAAuC;AACrC,YAAQ,KAAR,GAAgB,QAAQ,KAAR,CAAc,OAAd,EAAhB;AACD;AACD,MAAI,OAAO,QAAQ,KAAf,KAAyB,QAA7B,EAAuC;AACrC,YAAQ,KAAR,GAAgB,QAAQ,KAAR,CAAc,OAAd,EAAhB;AACD;;AAED,MAAI,IAAI,SAAS,QAAQ,KAAR,GAAgB,IAAzB,EAA+B,EAA/B,CAAR;AAAA,MACI,IAAI,SAAS,QAAQ,KAAR,GAAgB,IAAzB,EAA+B,EAA/B,CADR;AAEA,SAAO,KAAK,GAAG,OAAH,CAAW,EAAX,EAAe,CAAf,EAAkB,CAAlB,EAAqB,cAAc,EAAd,EAAkB,OAAlB,EAA2B,EAA3B,CAArB,CAAL,GAA4D,cAAc,EAAd,EAAkB,OAAlB,EAA2B,IAA3B,EAAiC,GAAG,WAAH,CAAe,EAAf,EAAmB,CAAnB,EAAsB,CAAtB,CAAjC,CAAnE;AACD;;AAED,SAAS,aAAT,CAAuB,EAAvB,EAA2B,OAA3B,EAAoC,EAApC,EAAwC;AACtC,SAAO,UAAU,EAAV,EAAc,GAAd,EAAmB;AACxB,QAAI,EAAJ,EAAQ;AACN,UAAI,QAAQ,UAAZ,EAAwB,GAAG,KAAH,CAAS,EAAT,EAAa,YAAY,CAAE,CAA3B;AACxB,aAAO,GAAG,EAAH,CAAP;AACD;AACD,WAAO,OAAO,EAAP,EAAW,OAAX,EAAoB,GAApB,EAAyB,EAAzB,CAAP;AACD,GAND;AAOD;;AAED,SAAS,MAAT,CAAgB,EAAhB,EAAoB,OAApB,EAA6B,GAA7B,EAAkC,EAAlC,EAAsC;AACpC,SAAO,QAAQ,UAAR,GAAqB,YAAY,EAAZ,EAAgB,OAAhB,EAAyB,GAAzB,EAA8B,EAA9B,CAArB,GAAyD,KAAK,GAAG,IAAH,EAAS,GAAT,CAAL,GAAqB,GAArF;AACD;;AAED,SAAS,WAAT,CAAqB,EAArB,EAAyB,OAAzB,EAAkC,GAAlC,EAAuC,EAAvC,EAA2C;AACzC,SAAO,KAAK,GAAG,KAAH,CAAS,EAAT,EAAa,cAAc,GAAd,EAAmB,OAAnB,EAA4B,EAA5B,CAAb,CAAL,GAAqD,cAAc,GAAd,EAAmB,OAAnB,EAA4B,IAA5B,EAAkC,GAAG,SAAH,CAAa,EAAb,CAAlC,CAA5D;AACD;;AAED,SAAS,aAAT,CAAuB,GAAvB,EAA4B,OAA5B,EAAqC,EAArC,EAAyC;AACvC,SAAO,UAAU,EAAV,EAAc;AACnB,QAAI,EAAJ,EAAQ,OAAO,GAAG,EAAH,CAAP;AACR,YAAQ,UAAR,GAAqB,IAArB;AACA,WAAO,OAAO,IAAP,EAAa,OAAb,EAAsB,GAAtB,EAA2B,EAA3B,CAAP;AACD,GAJD;AAKD;;AAED;;AAEA","file":"touch-compiled-compiled-compiled.js","sourcesContent":["var fs = require(\"fs\"),\n    cons = require(\"constants\");\n\nmodule.exports = touch;\ntouch.touchSync = touch.sync = function (f, options) {\n  return touch(f, options);\n};\n\ntouch.ftouch = ftouch;\ntouch.ftouchSync = ftouch.sync = function (fd, options) {\n  return ftouch(fd, options);\n};\n\nfunction validOpts(options) {\n  options = Object.create(options || {});\n\n  // {mtime: true}, {ctime: true}\n  // If set to something else, then treat as epoch ms value\n  var now = new Date(options.time || Date.now());\n  if (!options.atime && !options.mtime) {\n    options.atime = options.mtime = now;\n  } else {\n    if (true === options.atime) {\n      options.atime = now;\n    }\n    if (true === options.mtime) {\n      options.mtime = now;\n    }\n  }\n\n  var oflags = 0;\n  if (!options.force) {\n    oflags = oflags | cons.O_RDWR;\n  }\n\n  if (!options.nocreate) {\n    oflags = oflags | cons.O_CREAT;\n  }\n\n  options.oflags = oflags;\n  return options;\n}\n\nfunction optionsRef(then, arg, options, cb) {\n  if (!options.ref) return then(arg, options, cb);\n\n  return cb ? fs.stat(options.ref, optionsRefcb(then, arg, options, cb)) : optionsRefcb(then, arg, options)(null, fs.statSync(options.ref));\n}\n\nfunction optionsRefcb(then, arg, options, cb) {\n  return function (er, s) {\n    if (er) {\n      er.path = er.file = options.ref;\n      return cb(er);\n    }\n    options.atime = options.atime && s.atime.getTime();\n    options.mtime = options.mtime && s.mtime.getTime();\n\n    // so we don't keep doing this.\n    options.ref = null;\n\n    return then(arg, options, cb);\n  };\n}\n\nfunction touch(f, options, cb) {\n  if (typeof options === \"function\") cb = options, options = null;\n  options = validOpts(options);\n  return optionsRef(touch_, f, validOpts(options), cb);\n}\n\nfunction touch_(f, options, cb) {\n  return openThenF(f, options, cb);\n}\n\nfunction openThenF(f, options, cb) {\n  options.closeAfter = true;\n  return cb ? fs.open(f, options.oflags, openThenFcb(options, cb)) : openThenFcb(options)(null, fs.openSync(f, options.oflags));\n}\n\nfunction openThenFcb(options, cb) {\n  return function (er, fd) {\n    if (er) {\n      if (fd && options.closeAfter) fs.close(fd, function () {});\n      return cb(er);\n    }\n    return ftouch(fd, options, cb);\n  };\n}\n\nfunction ftouch(fd, options, cb) {\n  if (typeof options === \"function\") cb = options, options = null;\n  return optionsRef(ftouch_, fd, validOpts(options), cb);\n}\n\nfunction ftouch_(fd, options, cb) {\n  // still not set.  leave as what the file already has.\n  return fstatThenFutimes(fd, options, cb);\n}\n\nfunction fstatThenFutimes(fd, options, cb) {\n  if (options.atime && options.mtime) return thenFutimes(fd, options, cb);\n\n  return cb ? fs.fstat(fd, fstatThenFutimescb(fd, options, cb)) : fstatThenFutimescb(fd, options)(null, fs.fstatSync(fd));\n}\n\nfunction fstatThenFutimescb(fd, options, cb) {\n  return function (er, s) {\n    if (er) {\n      if (options.closeAfter) fs.close(fd, function () {});\n      return cb(er);\n    }\n    options.atime = options.atime || s.atime.getTime();\n    options.mtime = options.mtime || s.mtime.getTime();\n    return thenFutimes(fd, options, cb);\n  };\n}\n\nfunction thenFutimes(fd, options, cb) {\n  if (typeof options.atime === \"object\") {\n    options.atime = options.atime.getTime();\n  }\n  if (typeof options.mtime === \"object\") {\n    options.mtime = options.mtime.getTime();\n  }\n\n  var a = parseInt(options.atime / 1000, 10),\n      m = parseInt(options.mtime / 1000, 10);\n  return cb ? fs.futimes(fd, a, m, thenFutimescb(fd, options, cb)) : thenFutimescb(fd, options)(null, fs.futimesSync(fd, a, m));\n}\n\nfunction thenFutimescb(fd, options, cb) {\n  return function (er, res) {\n    if (er) {\n      if (options.closeAfter) fs.close(fd, function () {});\n      return cb(er);\n    }\n    return finish(fd, options, res, cb);\n  };\n}\n\nfunction finish(fd, options, res, cb) {\n  return options.closeAfter ? finishClose(fd, options, res, cb) : cb ? cb(null, res) : res;\n}\n\nfunction finishClose(fd, options, res, cb) {\n  return cb ? fs.close(fd, finishClosecb(res, options, cb)) : finishClosecb(res, options)(null, fs.closeSync(fd));\n}\n\nfunction finishClosecb(res, options, cb) {\n  return function (er) {\n    if (er) return cb(er);\n    options.closeAfter = null;\n    return finish(null, options, res, cb);\n  };\n}\n\n//# sourceMappingURL=touch-compiled.js.map\n\n//# sourceMappingURL=touch-compiled-compiled.js.map"]}